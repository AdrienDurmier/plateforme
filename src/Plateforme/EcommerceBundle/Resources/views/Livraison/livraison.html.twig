{% extends "PlateformeCoreBundle::frontoffice.html.twig" %}

{% block title %}
  Livraison - {{ parent() }}
{% endblock %}

{% block body %}
  <div class="container">
    <h1>Livraison</h1>
    <div class="row">
      <div class="col-6">
        {% if adresses|length != 0 %}
          <form action="{{ path('plateforme_ecommerce_validation') }}" method="POST">

            <h4>Adresse de livraison</h4>
            {% for adresse in adresses %}
              <label class="radio">
                <input type="radio" name="livraison" value="{{ adresse.id }}" {% if loop.index0 == 0 %}checked="checked"{% endif %}>
                {{ adresse.addrStreet }} ({{ adresse.addrAdditional }})
                <br>{{ adresse.codePostal }} - {{ adresse.commune }} ({{ adresse.pays }}) <a href="{{ path('plateforme_ecommerce_livraison_suppression', { 'id' : adresse.id }) }}"><i class="icon-trash"></i></a>
                <br>{{ adresse.destinatairePrenom }} {{ adresse.destinataireNom }}
              </label>
            {% endfor %}

            <br /><br />

            <h4>Adresse de facturation</h4>
            {% for adresse in adresses %}
              <label class="radio">
                <input type="radio" name="facturation" value="{{ adresse.id }}" {% if loop.index0 == 0 %}checked="checked"{% endif %}>
                {{ adresse.addrStreet }} ({{ adresse.addrAdditional }})
                <br>{{ adresse.codePostal }} - {{ adresse.commune }} ({{ adresse.pays }}) <a href="{{ path('plateforme_ecommerce_livraison_suppression', { 'id' : adresse.id }) }}"><i class="icon-trash"></i></a>
                <br>{{ adresse.destinatairePrenom }} {{ adresse.destinataireNom }}
              </label>
            {% endfor %}

            <br />

            <button class="btn btn-primary">Valider mes adresses</button>
          </form>
        {% endif %}
      </div>

      <div class="col-6">
        <h4>Ajouter une nouvelle adresse</h4>
        <form action="{{ path('plateforme_ecommerce_livraison') }}" method="POST">
          {{ form_widget(form) }}
          <button class="btn btn-primary" type="submit">Ajouter</button>
        </form>
      </div>
    </div>
  </div>
{% endblock %}